!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.AsyncLoader=e():t.AsyncLoader=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=r(n(1)),i={load:function(t,e){return o.loadScript(t,e)}};t.exports=i},function(t,e,n){"use strict";function r(t,e){var n=s.defer();return i.get(e,function(e){n.resolve(e||window[t])}),n}var o=function(t){return t&&t.__esModule?t["default"]:t};e.loadScript=r;var i=o(n(3)),s=o(n(2));Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){(function(e){function n(t,e){this.promise=this,this._isPromise=!0,this._successFn=t,this._failFn=e,this._scope=this,this._boundArgs=null,this._hasContext=!1,this._nextContext=void 0,this._currentContext=void 0}function r(t){t()}function o(t,e,n,r){try{t.resolve(e.apply(n,r))}catch(o){t.reject(o)}}function i(){return r}function s(t){r=t}function u(){this.errorsEmitted=0,this.errorsHandled=0}function c(t,e,n){e?t.reject(e):t.resolve(n)}function h(t){return!!t._isPromise}function l(t){return("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function a(t){var e=new n;return e.resolve(t),e}function f(t){var e=new n;return e.reject(t),e}function p(t,e,n){return t[e]=n,n}function d(t,e,n){return t[e]={state:"fulfilled",value:n},n}function _(t,e,n){return t[e]={state:"rejected",reason:n},n}function m(t){if(1==arguments.length&&Array.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),!t.length)return a([]);for(var e=[],r=!1,o=new n,i=t.length,s=0;s<t.length;s+=1)t[s]&&l(t[s])?t[s].then(p.bind(null,e,s)).then(function(){i--,r||0!==i||(r=!0,o.resolve(e))},function(t){r||(r=!0,o.reject(t))}):(e[s]=t[s],i-=1);return 0!==i||r||(r=!0,o.resolve(e)),o}function v(t){if(!Array.isArray(t))throw Error('The input to "allSettled()" should be an array of Promise or values');if(!t.length)return a([]);for(var e=[],r=new n,o=t.length,i=0;i<t.length;i+=1)t[i]&&l(t[i])?t[i].then(d.bind(null,e,i),_.bind(null,e,i)).then(function(){0===--o&&r.resolve(e)}):(d(e,i,t[i]),0===--o&&r.resolve(e));return r}function x(){return new n}function y(t,e){var r=void 0,o=t;if("undefined"!=typeof e&&(o=e,r=t),"number"!=typeof o)throw new Error("Bad delay value "+o);var i=new n;return setTimeout(function(){i.resolve(r)},o),i}function w(t){var e=Array.prototype.slice.call(arguments,1),i=new n;return r(o.bind(null,i,t,void 0,e)),i}function g(){var t=Array.prototype.slice.call(arguments,0);return t.splice(1,0,void 0),C.apply(void 0,t)()}function C(t,e){var r=Array.prototype.slice.call(arguments,2);return function(){var o=new n;try{t.apply(e,r.concat(Array.prototype.slice.call(arguments,0),o.makeNodeResolver()))}catch(i){o.reject(i)}return o}}"undefined"!=typeof e&&(r=e.nextTick);var b=new u;n.prototype._handleError=function(){this._errorHandled||(b.errorsHandled++,this._errorHandled=!0)},n.prototype._useContext=function(t){return this._nextContext=this._currentContext=t,this._hasContext=!0,this},n.prototype.clearContext=function(){return this._hasContext=!1,this._nextContext=void 0,this},n.prototype.setContext=function(t){return this._nextContext=t,this._hasContext=!0,this},n.prototype.getContext=function(){return this._nextContext},n.prototype.resolve=function(t){if(this._error||this._hasData)throw new Error("Unable to resolve or reject the same promise twice");var e;if(t&&h(t)){if(this._child=t,this._promises){for(e=0;e<this._promises.length;e+=1)t._chainPromise(this._promises[e]);delete this._promises}if(this._onComplete){for(e=0;e<this._onComplete.length;e+=1)t.fin(this._onComplete[e]);delete this._onComplete}}else if(t&&l(t))t.then(function(t){this.resolve(t)}.bind(this),function(t){this.reject(t)}.bind(this));else{if(this._hasData=!0,this._data=t,this._onComplete)for(e=0;e<this._onComplete.length;e++)this._onComplete[e]();if(this._promises){for(e=0;e<this._promises.length;e+=1)this._promises[e]._useContext(this._nextContext),this._promises[e]._withInput(t);delete this._promises}}},n.prototype.reject=function(t){if(this._error||this._hasData)throw new Error("Unable to resolve or reject the same promise twice");var n;if(this._error=t,b.errorsEmitted++,this._ended&&(this._handleError(),e.nextTick(function(){throw t})),this._onComplete)for(n=0;n<this._onComplete.length;n++)this._onComplete[n]();if(this._promises){for(this._handleError(),n=0;n<this._promises.length;n+=1)this._promises[n]._useContext(this._nextContext),this._promises[n]._withError(t);delete this._promises}},n.prototype.then=function(t,e){var r=new n(t,e);return this._nextContext&&r._useContext(this._nextContext),this._child?this._child._chainPromise(r):this._chainPromise(r),r},n.prototype.thenBound=function(t,e){var r=new n(t);return this._nextContext&&r._useContext(this._nextContext),r._scope=e,arguments.length>2&&(r._boundArgs=Array.prototype.slice.call(arguments,2)),this._child?this._child._chainPromise(r):this._chainPromise(r),r},n.prototype.fail=function(t){return this.then(null,t)},n.prototype.failBound=function(t,e){var r=new n(null,t);return this._nextContext&&r._useContext(this._nextContext),r._scope=e,arguments.length>2&&(r._boundArgs=Array.prototype.slice.call(arguments,2)),this._child?this._child._chainPromise(r):this._chainPromise(r),r},n.prototype.fin=function(t){return this._hasData||this._error?(t(),this):(this._child?this._child.fin(t):this._onComplete?this._onComplete.push(t):this._onComplete=[t],this)},n.prototype.end=function(){return this._end(),this},n.prototype._end=function(){if(this._error)throw this._handleError(),this._error;return this._ended=!0,this},n.prototype.done=function(t,e){var n=this;(t||e)&&(n=n.then(t,e)),n._end()},n.prototype.timeout=function(t,e){var r=new n,o=!1,i=setTimeout(function(){r.reject(new Error(e||"Promise timeout after "+t+" ms.")),o=!0},t);return this.then(function(t){o||(clearTimeout(i),r.resolve(t))},function(t){o||(clearTimeout(i),r.reject(t))}),r.promise},n.prototype._withInput=function(t){this._successFn?this._nextTick(this._successFn,[t,this._currentContext]):this.resolve(t),delete this._currentContext},n.prototype._withError=function(t){this._failFn?this._nextTick(this._failFn,[t,this._currentContext]):this.reject(t),delete this._currentContext},n.prototype._nextTick=function(t,e){this._boundArgs&&(e=this._boundArgs.concat(e)),r(o.bind(null,this,t,this._scope,e))},n.prototype._chainPromise=function(t){this._hasContext&&t._useContext(this._nextContext),this._child?this._child._chainPromise(t):this._hasData?t._withInput(this._data):this._error?(this._handleError(),t._withError(this._error)):this._promises?this._promises.push(t):this._promises=[t]},n.prototype.makeNodeResolver=function(){return c.bind(null,this)},n.prototype.delay=function(t){return this.then(function(e){return y(e,t)})},t.exports={all:m,bindPromise:C,defer:x,delay:y,fcall:w,isPromise:h,isPromiseLike:l,nfcall:g,resolve:a,reject:f,stats:b,allSettled:v,Promise:n,getNextTickFunction:i,setNextTickFunction:s}}).call(e,n(4))},function(t,e,n){var r,o;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(i,s){"undefined"!=typeof t&&t.exports?t.exports=s():(r=s,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o)))}("$script",function(){function t(t,e){for(var n=0,r=t.length;r>n;++n)if(!e(t[n]))return c;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(i,s,u){function c(t){return t.call?t():f[t]}function l(){if(!--x){f[v]=1,m&&m();for(var n in d)t(n.split("|"),c)&&!e(d[n],c)&&(d[n]=[])}}i=i[h]?i:[i];var a=s&&s.call,m=a?s:u,v=a?i.join(""):s,x=i.length;return setTimeout(function(){e(i,function t(e,n){return null===e?l():(e=n||-1!==e.indexOf(".js")||/^https?:\/\//.test(e)||!o?e:o+e+".js",_[e]?(v&&(p[v]=1),2==_[e]?l():setTimeout(function(){t(e,!0)},0)):(_[e]=1,v&&(p[v]=1),void r(e,l)))})},0),n}function r(t,e){var n,r=s.createElement("script");r.onload=r.onerror=r[a]=function(){r[l]&&!/^c|loade/.test(r[l])||n||(r.onload=r[a]=null,n=1,_[t]=2,e())},r.async=1,r.src=i?t+(-1===t.indexOf("?")?"?":"&")+i:t,u.insertBefore(r,u.lastChild)}var o,i,s=document,u=s.getElementsByTagName("head")[0],c=!1,h="push",l="readyState",a="onreadystatechange",f={},p={},d={},_={};return n.get=r,n.order=function(t,e,r){!function o(i){i=t.shift(),t.length?n(i,o):n(i,e,r)}()},n.path=function(t){o=t},n.urlArgs=function(t){i=t},n.ready=function(r,o,i){r=r[h]?r:[r];var s=[];return!e(r,function(t){f[t]||s[h](t)})&&t(r,function(t){return f[t]})?o():!function(t){d[t]=d[t]||[],d[t][h](o),i&&i(s)}(r.join("|")),n},n.done=function(t){n([null],t)},n})},function(t){function e(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var o=document.createElement("div"),i=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return i.observe(o,{attributes:!0}),function(t){r.length||o.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=e,n.addListener=e,n.once=e,n.off=e,n.removeListener=e,n.removeAllListeners=e,n.emit=e,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}}])});